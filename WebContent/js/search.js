define("index/search",["common/js/suggest","store"],function(e,s){var a=function(e){return e=""+e,e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},t=function(e){var s="";s+="<div class='shizhan-search-history'>",s+="<div class='clearfix'>",s+="<span class='l'>最近搜索</span>",s+="<a href='javascript:;' class='r clean-history js-clean-history'>清除</a>",s+="</div>",s+="<div class='clearfix shizhan-history-item'>";for(var t=0;t<e.length;t++)s+="<a href='//www.imooc.com/search/course?type=sz&words="+e[t]+"'>",s+=a(e[t]),s+="</a>";return s+="</div>",s+="</div>"},r={key:"szSerachHistory",len:8,set:function(e){if(!($.trim(e).length<=0)){var a=r.get();a.indexOf(e)>=0||(a.push(e),a.length>r.len&&a.shift(),s.set(r.key,a))}},get:function(){var e=s.get(r.key);return e?e:[]},remove:function(){this.get().length>0&&s.remove(this.key)}},n=function(){var s=r.get,a=r.set;new e($("#szHeaderSearch"),{tpl:t,getData:s,setData:a}),i()},i=function(){$("#szHeaderSearch").on("input",".shizhan-search-input",function(){""==$.trim(this.value)?$(".js-sz-searchtags").show():$(".js-sz-searchtags").hide()});var e=1;$("#szHeaderSearch").on("keydown",".shizhan-search-input",function(){e=1}),$("#szHeaderSearch").on("keyup",".shizhan-search-input",function(){e=0;$.trim(this.value)}),$("#szHeaderSearch").on("click",".js-clean-history",function(){r.remove()})};n()});